window.__require=function e(t,n,o){function i(a,c){if(!n[a]){if(!t[a]){var l=a.split("/");if(l=l[l.length-1],!t[l]){var s="function"==typeof __require&&__require;if(!c&&s)return s(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var p=n[a]={exports:{}};t[a][0].call(p.exports,function(e){return i(t[a][1][e]||e)},p,p.exports,e,t,n,o)}return n[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({ButtonOnload:[function(e,t,n){"use strict";cc._RF.push(t,"9ca0fHeBgVIRar62yBYH+3r","ButtonOnload");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){this.UiControl=cc.find("Canvas/UiControl"),this.DesignPanelControl=cc.find("Canvas/DesignPanel");var e=new cc.Component.EventHandler;"content_demand"==this.node.parent.name?(e.target=this.UiControl,e.component="UiControl",e.handler="TurnToPage",e.customEventData=this.node.name):"Citys"==this.node.parent.parent.name?(e.target=this.UiControl,e.component="UiControl",e.handler="Init",e.customEventData=this.node.parent.name):"province"==this.node.children[0].name?(e.target=this.DesignPanelControl,e.component="DesignPanelControl",e.handler="ClickCityButtonEvent"):"city"==this.node.children[0].name&&(e.target=this.DesignPanelControl,e.component="DesignPanelControl",e.handler="CityWriteInEvent"),this.node.getComponent(cc.Button).clickEvents.push(e)},t=i([a],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],"CameraControl ":[function(e,t,n){"use strict";cc._RF.push(t,"419f0tEMstP7b+fOAbqNSCG","CameraControl ");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property;(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.map=null,t.mapContainer=null,t.mapCamera=null,t.scaleTime=null,t.maxScale=3,t.minScale=1,t.moveOffset=2,t.increaseRate=1e4,t.operLock=!1,t.isMoving=!1,t.mapTouchList=[],t.singleTouchCb=null,t.originRatio=0,t}o(t,e),t.prototype.onLoad=function(){this.originRatio=this.mapCamera.zoomRatio},t.prototype.start=function(){this.map||(this.map=this.node),this.mapContainer||(this.mapContainer=this.node.parent),this.addEvent()},t.prototype.addEvent=function(){var e=this;this.map.on(cc.Node.EventType.TOUCH_MOVE,function(t){if(!e.operLock)if(t.getTouches().filter(function(t){var n=cc.v2(t.getStartLocation().x,t.getStartLocation().y),o=e.mapContainer.convertToWorldSpaceAR(cc.Vec2.ZERO);return cc.rect(o.x-e.mapContainer.width/2,o.y-e.mapContainer.height/2,e.mapContainer.width,e.mapContainer.height).contains(n)}).forEach(function(t){0===e.mapTouchList.filter(function(e){return e.id===t.getID()}).length&&e.mapTouchList.push({id:t.getID(),touch:t})}),e.mapTouchList.length>=2)e.isMoving=!0,e.dealTouchData(e.mapTouchList,e.map);else if(1===e.mapTouchList.length){var n=e.mapTouchList[0].touch,o=cc.v2(n.getStartLocation()),i=cc.v2(n.getLocation());if((Math.abs(i.x-o.x)<=e.moveOffset||Math.abs(i.y-o.y)<=e.moveOffset)&&!e.isMoving)return;var r=cc.v2(n.getDelta());e.isMoving=!0,e.dealMove(r,e.map,e.mapContainer)}},this),this.map.on(cc.Node.EventType.TOUCH_END,function(t){if(e.operLock)return cc.log("operate is lock");if(e.mapTouchList.length<2){if(!e.isMoving){var n=cc.v2(t.getLocation()),o=e.map.convertToNodeSpaceAR(n);e.dealSelect(o)}e.isMoving=!1}e.removeTouchFromContent(t,e.mapTouchList)},this),this.map.on(cc.Node.EventType.TOUCH_CANCEL,function(t){e.operLock||(e.mapTouchList.length<2&&(e.isMoving=!1),e.removeTouchFromContent(t,e.mapTouchList))},this),this.map.on(cc.Node.EventType.MOUSE_WHEEL,function(t){if(!e.operLock){var n=t.getLocation(),o=cc.v2(n.x,n.y),i=t.getScrollY(),r=e.map.scale+i/e.increaseRate,a=e.map,c=a.convertToNodeSpaceAR(o);e.smoothOperate(a,c,r)}},this)},t.prototype.removeTouchFromContent=function(e,t){for(var n=e.getTouches().map(function(e){return e.getID()}),o=t.length-1;o>=0;--o)n.indexOf(t[o].id)>-1&&t.splice(o,1)},t.prototype.smoothOperate=function(e,t,n){cc.log(n),this.mapCamera.zoomRatio*=n,this.scaleTime.string=(this.mapCamera.zoomRatio/this.originRatio*100|0)+"%"},t.prototype.dealTouchData=function(e,t){var n=e[0].touch,o=e[1].touch,i=cc.v2(n.getDelta()),r=cc.v2(o.getDelta()),a=t.convertToNodeSpaceAR(cc.v2(n.getLocation())),c=t.convertToNodeSpaceAR(cc.v2(o.getLocation())),l=a.sub(c),s=i.sub(r),p=1;p=Math.abs(l.x)>Math.abs(l.y)?(l.x+s.x)/l.x*t.scaleX:(l.y+s.y)/l.y*t.scaleY;var d=c.add(cc.v2(l.x/2,l.y/2));this.smoothOperate(t,d,p)},t.prototype.isOutRangeScale=function(e){return e>this.maxScale||e<this.minScale},t.prototype.dealScaleRange=function(e){return e>this.maxScale?this.maxScale:e<this.minScale?this.minScale:e},t.prototype.dealMove=function(e,t,n){var o=e.x,i=e.y,r=cc.v3(o,i,0);this.mapCamera.node.position=this.mapCamera.node.position.add(r),cc.log(this.mapCamera.node.position)},t.prototype.setSinglTouchCb=function(e){this.singleTouchCb=e},t.prototype.dealSelect=function(e){cc.log("click map on cc.v2("+e.x+", "+e.y+")"),this.singleTouchCb&&this.singleTouchCb(e)},t.prototype.calculateEdge=function(e,t,n){var o=e.width*e.scaleX,i=e.height*e.scaleY;return{lBorderDelta:n.x-o/2+t.width/2,rBorderDelta:t.width/2-(o/2+n.x),uBorderDelta:t.height/2-(i/2+n.y),dBorderDelta:n.y-i/2+t.height/2}},i([c({type:cc.Node,tooltip:"\u76ee\u6807\u8282\u70b9\uff0c\u5f53mapContainer\u4e3anull\u65f6\uff0c\u9700\u8981\u5c06\u8be5\u7ec4\u4ef6\u6302\u5728\u76ee\u6807\u8282\u70b9\uff0c\u8be5\u8282\u70b9\u9ed8\u8ba4\u4e3a\u6302\u8f7d\u8282\u70b9"})],t.prototype,"map",void 0),i([c({type:cc.Node,tooltip:"\u5f53\u8be5\u8282\u70b9\u4e3a\u7a7a\u65f6\uff0c\u9700\u8981\u5c06\u6539\u7ec4\u4ef6\u6302\u5728map\u8282\u70b9\u4e0a\uff0c\u8be5\u8282\u70b9\u9ed8\u8ba4\u4e3a\u6302\u8f7d\u8282\u70b9\u7684\u7236\u8282\u70b9"})],t.prototype,"mapContainer",void 0),i([c(cc.Camera)],t.prototype,"mapCamera",void 0),i([c(cc.Label)],t.prototype,"scaleTime",void 0),i([c({tooltip:"\u56fe\u7247\u7f29\u653e\u6700\u5927scale"})],t.prototype,"maxScale",void 0),i([c({tooltip:"\u56fe\u7247\u7f29\u653e\u6700\u5c0fscale"})],t.prototype,"minScale",void 0),i([c({tooltip:"\u5355\u70b9\u89e6\u6478\u5bb9\u5fcd\u8bef\u5dee"})],t.prototype,"moveOffset",void 0),i([c({tooltip:"\u6eda\u8f6e\u7f29\u653e\u6bd4\u7387"})],t.prototype,"increaseRate",void 0),t=i([a],t)})(cc.Component);cc._RF.pop()},{}],ContentAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"68622NlRNJFN4QrXlFCQMe/","ContentAdapter");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){var e=Math.min(cc.view.getCanvasSize().width/this.node.width,cc.view.getCanvasSize().height/this.node.height),t=this.node.width*e,n=this.node.height*e;this.node.width=this.node.width*(cc.view.getCanvasSize().width/t),this.node.height=this.node.height*(cc.view.getCanvasSize().height/n)},t=i([a],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],Demand:[function(e,t,n){"use strict";cc._RF.push(t,"095d51YcyNA6YKxgbIuO3Io","Demand"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(e,t,n,o,i,r){this.label=null,this.userId=null,this.detail=null,this.userLike=null,this.demandId=null,this.Province=null,this.label=e,this.userId=t,this.detail=n,this.userLike=o,this.demandId=i,this.Province=r}}();n.default=o,cc._RF.pop()},{}],DesignPanelControl:[function(e,t,n){"use strict";cc._RF.push(t,"c3870XY2ZZMi74aM6ycigOR","DesignPanelControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SelectCityScrollView=null,t.Province_City=null,t.SelectedProvince_City=null,t.province=null,t.cityJson=null,t.cityItem=null,t.ProvinceItem=null,t.SelectedProvince="",t.SelectedCity="",t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.Init=function(){var e=this;this.province.json.forEach(function(t){var n=cc.instantiate(e.ProvinceItem);n.parent=e.Province_City,n.name=t.ProID.toString(),n.getChildByName("Label").getComponent(cc.Label).string=t.name}),this.SelectCityScrollView.active=!0},t.prototype.CityDisplay=function(e){var t=this;this.Province_City.destroyAllChildren(),this.cityJson.json.forEach(function(n){if(n.ProID.toString()==e){var o=cc.instantiate(t.cityItem);o.parent=t.Province_City,o.name=n.name,o.getChildByName("Label").getComponent(cc.Label).string=n.name}})},t.prototype.ClickCityButtonEvent=function(e){var t=this;this.province.json.forEach(function(n){n.ProID.toString()==e.target.name&&(t.SelectedProvince=n.name)}),this.CityDisplay(e.target.name)},t.prototype.CityWriteInEvent=function(e){this.SelectedCity=e.target.name,this.SelectedProvince_City.string=this.SelectedProvince+"-"+this.SelectedCity,this.SelectCityScrollView.active=!1,this.Province_City.destroyAllChildren()},i([c(cc.Node)],t.prototype,"SelectCityScrollView",void 0),i([c(cc.Node)],t.prototype,"Province_City",void 0),i([c(cc.Label)],t.prototype,"SelectedProvince_City",void 0),i([c(cc.JsonAsset)],t.prototype,"province",void 0),i([c(cc.JsonAsset)],t.prototype,"cityJson",void 0),i([c(cc.Prefab)],t.prototype,"cityItem",void 0),i([c(cc.Prefab)],t.prototype,"ProvinceItem",void 0),t=i([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],FiliterControl:[function(e,t,n){"use strict";cc._RF.push(t,"e8f2dAbIlxFOLzwctN7JVFR","FiliterControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.parentNode=null,t.MySendButton=null,t.MyCollectedButton=null,t.MyFindButton=null,t.isOpen=!1,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.ChangeValue=function(e,t){this.parentNode.children[0].children[0].getComponent(cc.Label).string=t,this.DisAppear()},t.prototype.Appear=function(){0==this.isOpen?this.node.children[1].getComponent(cc.Animation).play("Appear"):this.node.children[1].getComponent(cc.Animation).play("DisAppear"),this.isOpen=!this.isOpen},t.prototype.DisAppear=function(){this.node.children[1].getComponent(cc.Animation).play("DisAppear"),this.isOpen=!1},i([c(cc.Node)],t.prototype,"parentNode",void 0),i([c(cc.Node)],t.prototype,"MySendButton",void 0),i([c(cc.Node)],t.prototype,"MyCollectedButton",void 0),i([c(cc.Node)],t.prototype,"MyFindButton",void 0),t=i([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],GameManager:[function(e,t,n){"use strict";cc._RF.push(t,"69c669S06lL5JgjJXowmt5s","GameManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r,a=e("./Demand"),c=e("./WebRequest"),l=e("./JsonParser");(function(e){e[e.RequiredDemands=0]="RequiredDemands",e[e.MyCollectedDemands=1]="MyCollectedDemands",e[e.MySentDemands=2]="MySentDemands"})(r=n.DemandType||(n.DemandType={}));var s=cc._decorator,p=s.ccclass,d=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.RequiredDemands=null,t.MyCollectedDemands=null,t.MySentDemands=null,t.CityMap={},t.CityParent=null,t.OutLightMaterial_red=null,t.OutLightMaterial_green=null,t.OutLightMaterial_yellow=null,t}var n;return o(t,e),n=t,t.prototype.onLoad=function(){c.default.userToken="w7X6N9WhCuvzxcB6J94fFVwoqxQ0FkmqCJDWM7gxWVa7hV7/UUukUAOpDXalPQPsMPXOHOnnvfbhOWuYHAsAsg==",this.getInstance(),this.RequiredDemands=new Array,this.MyCollectedDemands=new Array,this.MySentDemands=new Array,this.MySentDemands.push(new a.default("Ios;Android;Web",2,"\u8fd9\u662f\u4e00\u4e2a\u6d4b\u8bd5\u9700\u6c42",100,0,"\u6cb3\u5357")),this.MySentDemands.push(new a.default("Ios;Android;Web",3,"\u8fd9\u662f\u4e00\u4e2a\u6d4b\u8bd5\u7701\u4efd\u9700\u6c42",100,0,"\u5317\u4eac"))},t.prototype.start=function(){c.default.get("/users/need/",this.GetDemands,r.MySentDemands)},t.prototype.getInstance=function(){n._instance=this.getComponent(n)},t.prototype.ClassifyDemand=function(e){var t=this;e.forEach(function(e){null==t.CityMap[e.Province]&&(t.CityMap[e.Province]=new Array),t.CityMap[e.Province].push(e)}),cc.log(this.CityMap)},t.prototype.AddTarget=function(){for(var e in this.CityMap){var t=e,n=this.CityParent.getChildByName(t);this.SetMaterial(n,this.CityMap[t].length);var o=n.getChildByName("label");o.active=!0,o.getComponent(cc.Animation).play("TargetAnim"),"\u6d77\u5357"==t&&(o.getChildByName("num").getChildByName("Label").getComponent(cc.Label).string=this.CityMap[t].length.toString())}},t.prototype.SetMaterial=function(e,t){t>3&&e.getComponent(cc.Sprite).setMaterial(0,this.OutLightMaterial_red),t>1&&t<=3&&e.getComponent(cc.Sprite).setMaterial(0,this.OutLightMaterial_yellow),1==t&&e.getComponent(cc.Sprite).setMaterial(0,this.OutLightMaterial_green),cc.log("\u66f4\u6539\u6750\u8d28")},t.prototype.GetDemands=function(e,t,o){e?(cc.log(t),l.default.CovertJsonTocDemand(t,o),n._instance.ClassifyDemand(n._instance.MySentDemands),n._instance.AddTarget()):cc.log("\u8bf7\u6c42\u6570\u636e\u5931\u8d25 :"+t)},t._instance=null,i([d(cc.Node)],t.prototype,"CityParent",void 0),i([d(cc.Material)],t.prototype,"OutLightMaterial_red",void 0),i([d(cc.Material)],t.prototype,"OutLightMaterial_green",void 0),i([d(cc.Material)],t.prototype,"OutLightMaterial_yellow",void 0),t=n=i([p],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./Demand":"Demand","./JsonParser":"JsonParser","./WebRequest":"WebRequest"}],GlowInnerEffectScene:[function(e,t,n){"use strict";cc._RF.push(t,"eebe5Fr5bhMO7IsowoLW/Yp","GlowInnerEffectScene");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._redSlider=null,t._redSliderLabel=null,t._greenSlider=null,t._greenSliderLabel=null,t._blueSlider=null,t._blueSliderLabel=null,t._alphaSlider=null,t._alphaSliderLabel=null,t._glowWidthSlider=null,t._glowWidthSliderLabel=null,t._glowThresholdSlider=null,t._glowThresholdSliderLabel=null,t._examplesParentNode=null,t}return o(t,e),t.prototype.onLoad=function(){this._redSlider=cc.find("Canvas/Content/Sliders/ColorRedSlider/Slider").getComponent(cc.Slider),this._redSliderLabel=cc.find("Canvas/Content/Sliders/ColorRedSlider/ValueLabel").getComponent(cc.Label),this._greenSlider=cc.find("Canvas/Content/Sliders/ColorGreenSlider/Slider").getComponent(cc.Slider),this._greenSliderLabel=cc.find("Canvas/Content/Sliders/ColorGreenSlider/ValueLabel").getComponent(cc.Label),this._blueSlider=cc.find("Canvas/Content/Sliders/ColorBlueSlider/Slider").getComponent(cc.Slider),this._blueSliderLabel=cc.find("Canvas/Content/Sliders/ColorBlueSlider/ValueLabel").getComponent(cc.Label),this._alphaSlider=cc.find("Canvas/Content/Sliders/ColorAlphaSlider/Slider").getComponent(cc.Slider),this._alphaSliderLabel=cc.find("Canvas/Content/Sliders/ColorAlphaSlider/ValueLabel").getComponent(cc.Label),this._glowWidthSlider=cc.find("Canvas/Content/Sliders/GlowWidthSlider/Slider").getComponent(cc.Slider),this._glowWidthSliderLabel=cc.find("Canvas/Content/Sliders/GlowWidthSlider/ValueLabel").getComponent(cc.Label),this._glowThresholdSlider=cc.find("Canvas/Content/Sliders/GlowThresholdSlider/Slider").getComponent(cc.Slider),this._glowThresholdSliderLabel=cc.find("Canvas/Content/Sliders/GlowThresholdSlider/ValueLabel").getComponent(cc.Label),this._examplesParentNode=cc.find("Canvas/Content/Examples")},t.prototype.onEnable=function(){this._redSlider.node.on("slide",this._onSliderChanged,this),this._greenSlider.node.on("slide",this._onSliderChanged,this),this._blueSlider.node.on("slide",this._onSliderChanged,this),this._alphaSlider.node.on("slide",this._onSliderChanged,this),this._glowWidthSlider.node.on("slide",this._onSliderChanged,this),this._glowThresholdSlider.node.on("slide",this._onSliderChanged,this)},t.prototype.onDisable=function(){this._redSlider.node.off("slide",this._onSliderChanged,this),this._greenSlider.node.off("slide",this._onSliderChanged,this),this._blueSlider.node.off("slide",this._onSliderChanged,this),this._alphaSlider.node.off("slide",this._onSliderChanged,this),this._glowWidthSlider.node.off("slide",this._onSliderChanged,this),this._glowThresholdSlider.node.off("slide",this._onSliderChanged,this)},t.prototype.start=function(){this._onSliderChanged()},t.prototype._onSliderChanged=function(){this._redSliderLabel.string=this._redSlider.progress.toFixed(2)+" | "+Math.round(255*this._redSlider.progress),this._greenSliderLabel.string=this._greenSlider.progress.toFixed(2)+" | "+Math.round(255*this._greenSlider.progress),this._blueSliderLabel.string=this._blueSlider.progress.toFixed(2)+" | "+Math.round(255*this._blueSlider.progress),this._alphaSliderLabel.string=this._alphaSlider.progress.toFixed(2)+" | "+Math.round(255*this._alphaSlider.progress);var e=.1*this._glowWidthSlider.progress;this._glowWidthSliderLabel.string=""+e.toFixed(2);var t=this._glowThresholdSlider.progress;this._glowThresholdSliderLabel.string=""+t.toFixed(2)},t.prototype._updateRenderComponentMaterial=function(e){this._examplesParentNode.children.forEach(function(t){t.getComponents(cc.RenderComponent).forEach(function(t){var n=t.getMaterial(0);n.setProperty("glowColorSize",e.glowColorSize),n.setProperty("glowColor",e.glowColor),n.setProperty("glowThreshold",e.glowThreshold),t.setMaterial(0,n)})})},t=i([a],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],JsonParser:[function(e,t,n){"use strict";cc._RF.push(t,"a06b30+MtFOw60ZsCDR+hBH","JsonParser");var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./GameManager"),r=e("./Demand"),a=cc._decorator,c=a.ccclass,l=(a.property,function(){function e(){}return e.CovertJsonTocDemand=function(e,t){e.data.list.forEach(function(e){0==t&&i.default._instance.RequiredDemands.push(new r.default(e.tags,e.user_id,e.desc,e.count_likers,e.id,"\u6d77\u5357")),1==t&&i.default._instance.MyCollectedDemands.push(new r.default(e.tags,e.user_id,e.desc,e.count_likers,e.id,"\u6d77\u5357")),2==t&&i.default._instance.MySentDemands.push(new r.default(e.tags,e.user_id,e.desc,e.count_likers,e.id,"\u6d77\u5357"))})},e=o([c],e)}());n.default=l;var s=function(){function e(){this.code=null,this.data=null}return e=o([c],e)}();n.DemandJson=s;var p=function(){function e(){}return e=o([c],e)}();n.DemandData=p;var d=function(){function e(){}return e=o([c],e)}();n.Data=d,cc._RF.pop()},{"./Demand":"Demand","./GameManager":"GameManager"}],MapControl:[function(e,t,n){"use strict";cc._RF.push(t,"79777kgUFNH7IobLwg8lArh","MapControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},r=cc._decorator,a=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.map=null,t.mapContainer=null,t.scaleTime=null,t.maxScale=3,t.minScale=1,t.moveOffset=2,t.increaseRate=1e4,t.operLock=!1,t.isMoving=!1,t.mapTouchList=[],t.singleTouchCb=null,t}return o(t,e),t.prototype.start=function(){this.map||(this.map=this.node),this.mapContainer||(this.mapContainer=this.node.parent),this.addEvent()},t.prototype.addEvent=function(){var e=this;this.map.on(cc.Node.EventType.TOUCH_MOVE,function(t){if(!e.operLock)if(t.getTouches().filter(function(t){var n=cc.v2(t.getStartLocation().x,t.getStartLocation().y),o=e.mapContainer.convertToWorldSpaceAR(cc.Vec2.ZERO);return cc.rect(o.x-e.mapContainer.width/2,o.y-e.mapContainer.height/2,e.mapContainer.width,e.mapContainer.height).contains(n)}).forEach(function(t){0===e.mapTouchList.filter(function(e){return e.id===t.getID()}).length&&e.mapTouchList.push({id:t.getID(),touch:t})}),e.mapTouchList.length>=2)e.isMoving=!0,e.dealTouchData(e.mapTouchList,e.map);else if(1===e.mapTouchList.length){var n=e.mapTouchList[0].touch,o=cc.v2(n.getStartLocation()),i=cc.v2(n.getLocation());if((Math.abs(i.x-o.x)<=e.moveOffset||Math.abs(i.y-o.y)<=e.moveOffset)&&!e.isMoving)return;var r=cc.v2(n.getDelta());e.isMoving=!0,e.dealMove(r,e.map,e.mapContainer)}},this),this.map.on(cc.Node.EventType.TOUCH_END,function(t){if(e.operLock)return cc.log("operate is lock");if(e.mapTouchList.length<2){if(!e.isMoving){var n=cc.v2(t.getLocation()),o=e.map.convertToNodeSpaceAR(n);e.dealSelect(o)}e.isMoving=!1}e.removeTouchFromContent(t,e.mapTouchList)},this),this.map.on(cc.Node.EventType.TOUCH_CANCEL,function(t){e.operLock||(e.mapTouchList.length<2&&(e.isMoving=!1),e.removeTouchFromContent(t,e.mapTouchList))},this),this.map.on(cc.Node.EventType.MOUSE_WHEEL,function(t){if(!e.operLock){var n=t.getLocation(),o=cc.v2(n.x,n.y),i=t.getScrollY(),r=e.map.scale+i/e.increaseRate,a=e.map,c=a.convertToNodeSpaceAR(o);e.smoothOperate(a,c,r)}},this)},t.prototype.removeTouchFromContent=function(e,t){for(var n=e.getTouches().map(function(e){return e.getID()}),o=t.length-1;o>=0;--o)n.indexOf(t[o].id)>-1&&t.splice(o,1)},t.prototype.smoothOperate=function(e,t,n){var o=n-e.scaleX,i=t.scale(cc.v2(o,o)),r=e.getPosition().sub(cc.v2(i.x,i.y));this.isOutRangeScale(n)||(n=(100*n|0)/100,e.scale=n,this.dealScalePos(r,e)),n=this.dealScaleRange(n),this.scaleTime.string=(100*n|0)+"%"},t.prototype.dealTouchData=function(e,t){var n=e[0].touch,o=e[1].touch,i=cc.v2(n.getDelta()),r=cc.v2(o.getDelta()),a=t.convertToNodeSpaceAR(cc.v2(n.getLocation())),c=t.convertToNodeSpaceAR(cc.v2(o.getLocation())),l=a.sub(c),s=i.sub(r),p=1;p=Math.abs(l.x)>Math.abs(l.y)?(l.x+s.x)/l.x*t.scaleX:(l.y+s.y)/l.y*t.scaleY;var d=c.add(cc.v2(l.x/2,l.y/2));this.smoothOperate(t,d,p)},t.prototype.isOutRangeScale=function(e){return e>this.maxScale||e<this.minScale},t.prototype.dealScaleRange=function(e){return e>this.maxScale?this.maxScale:e<this.minScale?this.minScale:e},t.prototype.dealScalePos=function(e,t){var n=this.mapContainer,o=n.convertToWorldSpaceAR(e),i=n.convertToNodeSpaceAR(o),r=this.calculateEdge(t,n,i);r.lBorderDelta>0&&(e.x-=r.lBorderDelta),r.rBorderDelta>0&&(e.x+=r.rBorderDelta),r.uBorderDelta>0&&(e.y+=r.uBorderDelta),r.dBorderDelta>0&&(e.y-=r.dBorderDelta),1===t.scale&&(e=cc.Vec2.ZERO),t.position=e},t.prototype.dealMove=function(e,t,n){var o=t.convertToWorldSpaceAR(cc.Vec2.ZERO),i=n.convertToNodeSpaceAR(o);i.x+=e.x,i.y+=e.y;var r=this.calculateEdge(t,n,i);r.lBorderDelta<=0&&r.rBorderDelta<=0&&(t.x+=e.x),r.uBorderDelta<=0&&r.dBorderDelta<=0&&(t.y+=e.y)},t.prototype.setSinglTouchCb=function(e){this.singleTouchCb=e},t.prototype.dealSelect=function(e){cc.log("click map on cc.v2("+e.x+", "+e.y+")"),this.singleTouchCb&&this.singleTouchCb(e)},t.prototype.calculateEdge=function(e,t,n){var o=e.width*e.scaleX,i=e.height*e.scaleY;return{lBorderDelta:n.x-o/2+t.width/2,rBorderDelta:t.width/2-(o/2+n.x),uBorderDelta:t.height/2-(i/2+n.y),dBorderDelta:n.y-i/2+t.height/2}},i([c({type:cc.Node,tooltip:"\u76ee\u6807\u8282\u70b9\uff0c\u5f53mapContainer\u4e3anull\u65f6\uff0c\u9700\u8981\u5c06\u8be5\u7ec4\u4ef6\u6302\u5728\u76ee\u6807\u8282\u70b9\uff0c\u8be5\u8282\u70b9\u9ed8\u8ba4\u4e3a\u6302\u8f7d\u8282\u70b9"})],t.prototype,"map",void 0),i([c({type:cc.Node,tooltip:"\u5f53\u8be5\u8282\u70b9\u4e3a\u7a7a\u65f6\uff0c\u9700\u8981\u5c06\u6539\u7ec4\u4ef6\u6302\u5728map\u8282\u70b9\u4e0a\uff0c\u8be5\u8282\u70b9\u9ed8\u8ba4\u4e3a\u6302\u8f7d\u8282\u70b9\u7684\u7236\u8282\u70b9"})],t.prototype,"mapContainer",void 0),i([c(cc.Label)],t.prototype,"scaleTime",void 0),i([c({tooltip:"\u56fe\u7247\u7f29\u653e\u6700\u5927scale"})],t.prototype,"maxScale",void 0),i([c({tooltip:"\u56fe\u7247\u7f29\u653e\u6700\u5c0fscale"})],t.prototype,"minScale",void 0),i([c({tooltip:"\u5355\u70b9\u89e6\u6478\u5bb9\u5fcd\u8bef\u5dee"})],t.prototype,"moveOffset",void 0),i([c({tooltip:"\u6eda\u8f6e\u7f29\u653e\u6bd4\u7387"})],t.prototype,"increaseRate",void 0),t=i([a],t)}(cc.Component);t.exports=l,cc._RF.pop()},{}],Province_city:[function(e,t,n){"use strict";cc._RF.push(t,"39fd4eGGoxGHYVLzlVadvxF","Province_city");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.province=null,t}return o(t,e),t.prototype.onLoad=function(){var e=this.province.json[0];cc.log(e)},t.prototype.start=function(){},i([c(cc.JsonAsset)],t.prototype,"province",void 0),t=i([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],UiControl:[function(e,t,n){"use strict";cc._RF.push(t,"8981fT7NExFeqLfeF11jNgW","UiControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./GameManager"),a=cc._decorator,c=a.ccclass,l=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DemandListContent=null,t.ListItem=null,t.ListItemState=!1,t.DemandDetailContent=null,t.DetailItem=null,t.DetailListState=!1,t.CityName=null,t.DesignPanel=null,t}return o(t,e),t.prototype.Init=function(e,t){var n=this,o=0;cc.log(t),this.DemandListContent.destroyAllChildren(),this.DemandDetailContent.parent.parent.getComponent(cc.PageView).removeAllPages(),this.CityName.getComponent(cc.Label).string=t,r.default._instance.CityMap[t].forEach(function(e){var t=cc.instantiate(n.ListItem);t.getChildByName("title").getChildByName("New Label").getComponent(cc.Label).string=e.Province,t.getChildByName("lable").getChildByName("New Label").getComponent(cc.Label).string=e.label,t.name=o.toString(),n.DemandListContent.addChild(t);var i=cc.instantiate(n.DetailItem);i.getChildByName("title").getChildByName("New Label").getComponent(cc.Label).string=e.Province,i.getChildByName("content").getChildByName("New Label").getComponent(cc.Label).string=e.detail,i.name=o.toString(),n.DemandDetailContent.parent.parent.getComponent(cc.PageView).addPage(i),o++}),this.ItemListButtonEvent()},t.prototype.TurnToPage=function(e,t){cc.log(e.target.name);var n=t;this.DemandDetailContent.parent.parent.getComponent(cc.PageView).scrollToPage(Number(n),1),this.ItemListButtonEvent(),this.DetileListButtonEvent()},t.prototype.ItemListButtonEvent=function(){0==this.ListItemState?(this.DemandListContent.parent.parent.parent.getChildByName("LandR").children[0].scaleX*=-1,this.DemandListContent.parent.parent.parent.getComponent(cc.Animation).play("Appear"),this.ListItemState=!0):(this.DemandListContent.parent.parent.parent.getChildByName("LandR").children[0].scaleX*=-1,this.DemandListContent.parent.parent.parent.getComponent(cc.Animation).play("DisAppear"),this.ListItemState=!1)},t.prototype.DetileListButtonEvent=function(){0==this.DetailListState?(this.DemandDetailContent.parent.parent.getChildByName("LandR").children[0].scaleX*=-1,this.DemandDetailContent.parent.parent.getComponent(cc.Animation).play("Appear"),this.DetailListState=!0):(this.DemandDetailContent.parent.parent.getChildByName("LandR").children[0].scaleX*=-1,this.DemandDetailContent.parent.parent.getComponent(cc.Animation).play("Disappear"),this.DetailListState=!1)},t.prototype.ClosePanelEvent=function(){1==this.DetailListState&&(this.DemandDetailContent.parent.parent.getChildByName("LandR").children[0].scaleX*=-1,this.DemandDetailContent.parent.parent.getComponent(cc.Animation).play("Disappear"),this.DetailListState=!1),1==this.ListItemState&&(this.DemandListContent.parent.parent.parent.getChildByName("LandR").children[0].scaleX*=-1,this.DemandListContent.parent.parent.parent.getComponent(cc.Animation).play("DisAppear"),this.ListItemState=!1)},t.prototype.OpenDemandListEvent=function(){0==this.ListItemState&&(this.DemandListContent.parent.parent.parent.getChildByName("LandR").children[0].scaleX*=-1,this.DemandListContent.parent.parent.parent.getComponent(cc.Animation).play("Appear"),this.ListItemState=!0)},t.prototype.OpenDesignPanelEvent=function(){this.DesignPanel.active=!0},t.prototype.start=function(){},i([l(cc.Node)],t.prototype,"DemandListContent",void 0),i([l(cc.Prefab)],t.prototype,"ListItem",void 0),i([l(cc.Node)],t.prototype,"DemandDetailContent",void 0),i([l(cc.Prefab)],t.prototype,"DetailItem",void 0),i([l(cc.Node)],t.prototype,"CityName",void 0),i([l(cc.Node)],t.prototype,"DesignPanel",void 0),t=i([c],t)}(cc.Component);n.default=s,cc._RF.pop()},{"./GameManager":"GameManager"}],WebRequest:[function(e,t,n){"use strict";cc._RF.push(t,"827d4rdEvdFZ4cPIDaHLT0i","WebRequest"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.get=function(t,n,o){t=e.baseUrl+t;var i=cc.loader.getXMLHttpRequest();i.open("GET",t,!0),i.setRequestHeader("X-User-Token",this.userToken),i.onreadystatechange=function(){if(4===i.readyState){var e=i.responseText;if(i.status>=200&&i.status<300){i.statusText;n(!0,JSON.parse(e),o)}else n(!1,e,o)}},i.send()},e.post=function(t,n,o){void 0===n&&(n={}),t=e.baseUrl+t;var i=cc.loader.getXMLHttpRequest(),r="";Object.keys(n).forEach(function(e){r+=e+"="+encodeURIComponent(n[e])+"&"}),""!==r&&(r=r.substr(0,r.lastIndexOf("&"))),i.open("POST",t,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){if(4===i.readyState){var e=i.responseText;if(i.status>=200&&i.status<300){i.statusText;o(!0,JSON.parse(e))}else o(!1,e)}},i.send(r)},e.GetDemands=function(e,t){},e.GetMyCollectedDemands=function(){},e.GetMySentDemands=function(){},e.baseUrl="http://pre.api.app.chuangyh.com",e.userToken="",e}();n.default=o,cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(e,t,n){"use strict";cc._RF.push(t,"b3f5c4JCYNAmrDklv+0dOf/","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}]},{},["ButtonOnload","CameraControl ","Demand","DesignPanelControl","FiliterControl","GameManager","JsonParser","MapControl","Province_city","UiControl","WebRequest","GlowInnerEffectScene","ContentAdapter","use_v2.0.x_cc.Toggle_event"]);