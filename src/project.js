window.__require=function e(t,n,o){function i(r,l){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var s="function"==typeof __require&&__require;if(!l&&s)return s(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var d=n[r]={exports:{}};t[r][0].call(d.exports,function(e){return i(t[r][1][e]||e)},d,d.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({BackgroundAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"e94fewC6vdKbJG/gKckQA/K","BackgroundAdapter");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,l=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){var e=Math.min(cc.view.getCanvasSize().width/this.node.width,cc.view.getCanvasSize().height/this.node.height),t=this.node.width*e,n=this.node.height*e;this.node.scale=Math.max(cc.view.getCanvasSize().width/t,cc.view.getCanvasSize().height/n)},t=i([r],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],ButtonOnload:[function(e,t,n){"use strict";cc._RF.push(t,"9ca0fHeBgVIRar62yBYH+3r","ButtonOnload");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,l=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){this.UiControl=cc.find("Canvas/UiControl"),this.DesignPanelControl=cc.find("Canvas/DesignPanel");var e=new cc.Component.EventHandler;"content_demand"==this.node.parent.name?(e.target=this.UiControl,e.component="UiControl",e.handler="TurnToPage",e.customEventData=this.node.name):"Citys"==this.node.parent.parent.name?(e.target=this.UiControl,e.component="UiControl",e.handler="Init",e.customEventData=this.node.parent.name):"content_helper"==this.node.parent.name?(e.target=this.UiControl,e.component="UiControl",e.handler="ChangeProvinceEvent",e.customEventData=this.node.name):"province"==this.node.children[0].name?(e.target=this.DesignPanelControl,e.component="DesignPanelControl",e.handler="ClickCityButtonEvent"):"city"==this.node.children[0].name?(e.target=this.DesignPanelControl,e.component="DesignPanelControl",e.handler="CityWriteInEvent"):"label"==this.node.children[0].name&&(e.target=this.DesignPanelControl,e.component="DesignPanelControl",e.handler="InitLabelData"),this.node.getComponent(cc.Button).clickEvents.push(e)},t=i([r],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],"CameraControl ":[function(e,t,n){"use strict";cc._RF.push(t,"419f0tEMstP7b+fOAbqNSCG","CameraControl ");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./GameManager"),r=cc._decorator,l=r.ccclass,c=r.property;(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.map=null,t.mapContainer=null,t.mapCamera=null,t.scaleTime=null,t.maxRatio=2,t.moveOffset=2,t.increaseRate=1e4,t.operLock=!1,t.isMoving=!1,t.mapTouchList=[],t.singleTouchCb=null,t.originRatio=0,t}o(t,e),t.prototype.onLoad=function(){this.originRatio=this.mapCamera.zoomRatio},t.prototype.start=function(){this.map||(this.map=this.node),this.mapContainer||(this.mapContainer=this.node.parent),this.addEvent()},t.prototype.addEvent=function(){var e=this;this.map.on(cc.Node.EventType.TOUCH_MOVE,function(t){if(!e.operLock)if(t.getTouches().filter(function(t){var n=cc.v2(t.getStartLocation().x,t.getStartLocation().y),o=e.mapContainer.convertToWorldSpaceAR(cc.Vec2.ZERO);return cc.rect(o.x-e.mapContainer.width/2,o.y-e.mapContainer.height/2,e.mapContainer.width,e.mapContainer.height).contains(n)}).forEach(function(t){0===e.mapTouchList.filter(function(e){return e.id===t.getID()}).length&&e.mapTouchList.push({id:t.getID(),touch:t})}),e.mapTouchList.length>=2)e.isMoving=!0,e.dealTouchData(e.mapTouchList,e.map);else if(1===e.mapTouchList.length){var n=e.mapTouchList[0].touch,o=cc.v2(n.getStartLocation()),i=cc.v2(n.getLocation());if((Math.abs(i.x-o.x)<=e.moveOffset||Math.abs(i.y-o.y)<=e.moveOffset)&&!e.isMoving)return;var a=cc.v2(n.getDelta());e.isMoving=!0,e.dealMove(a,e.map,e.mapContainer)}},this),this.map.on(cc.Node.EventType.TOUCH_END,function(t){if(e.operLock)return cc.log("operate is lock");if(e.mapTouchList.length<2){if(!e.isMoving){var n=cc.v2(t.getLocation()),o=e.map.convertToNodeSpaceAR(n);e.dealSelect(o)}e.isMoving=!1}e.removeTouchFromContent(t,e.mapTouchList)},this),this.map.on(cc.Node.EventType.TOUCH_CANCEL,function(t){e.operLock||(e.mapTouchList.length<2&&(e.isMoving=!1),e.removeTouchFromContent(t,e.mapTouchList))},this),this.map.on(cc.Node.EventType.MOUSE_WHEEL,function(t){if(!e.operLock){var n=t.getLocation(),o=cc.v2(n.x,n.y),i=t.getScrollY(),a=e.map.scale+i/e.increaseRate,r=e.map,l=r.convertToNodeSpaceAR(o);e.smoothOperate(r,l,a)}},this)},t.prototype.removeTouchFromContent=function(e,t){for(var n=e.getTouches().map(function(e){return e.getID()}),o=t.length-1;o>=0;--o)n.indexOf(t[o].id)>-1&&t.splice(o,1)},t.prototype.smoothOperate=function(e,t,n){1==a.default._instance.isAdjustCamera&&(this.mapCamera.zoomRatio*n>this.originRatio&&this.mapCamera.zoomRatio*n<this.maxRatio&&(this.mapCamera.zoomRatio*=n),this.scaleTime.string=(this.mapCamera.zoomRatio/this.originRatio*100|0)+"%")},t.prototype.dealTouchData=function(e,t){var n=e[0].touch,o=e[1].touch,i=cc.v2(n.getDelta()),a=cc.v2(o.getDelta()),r=t.convertToNodeSpaceAR(cc.v2(n.getLocation())),l=t.convertToNodeSpaceAR(cc.v2(o.getLocation())),c=r.sub(l),s=i.sub(a),d=1;d=Math.abs(c.x)>Math.abs(c.y)?(c.x+s.x)/c.x*t.scaleX:(c.y+s.y)/c.y*t.scaleY;var p=l.add(cc.v2(c.x/2,c.y/2));this.smoothOperate(t,p,d)},t.prototype.dealMove=function(e,t,n){if(1==a.default._instance.isAdjustCamera){var o=-1*e.x,i=-1*e.y,r=cc.v3(o,i,0);this.mapCamera.node.position=this.mapCamera.node.position.add(r)}},t.prototype.setSinglTouchCb=function(e){this.singleTouchCb=e},t.prototype.dealSelect=function(e){cc.log("click map on cc.v2("+e.x+", "+e.y+")"),this.singleTouchCb&&this.singleTouchCb(e)},i([c({type:cc.Node,tooltip:"\u76ee\u6807\u8282\u70b9\uff0c\u5f53mapContainer\u4e3anull\u65f6\uff0c\u9700\u8981\u5c06\u8be5\u7ec4\u4ef6\u6302\u5728\u76ee\u6807\u8282\u70b9\uff0c\u8be5\u8282\u70b9\u9ed8\u8ba4\u4e3a\u6302\u8f7d\u8282\u70b9"})],t.prototype,"map",void 0),i([c({type:cc.Node,tooltip:"\u5f53\u8be5\u8282\u70b9\u4e3a\u7a7a\u65f6\uff0c\u9700\u8981\u5c06\u6539\u7ec4\u4ef6\u6302\u5728map\u8282\u70b9\u4e0a\uff0c\u8be5\u8282\u70b9\u9ed8\u8ba4\u4e3a\u6302\u8f7d\u8282\u70b9\u7684\u7236\u8282\u70b9"})],t.prototype,"mapContainer",void 0),i([c(cc.Camera)],t.prototype,"mapCamera",void 0),i([c(cc.Label)],t.prototype,"scaleTime",void 0),i([c],t.prototype,"maxRatio",void 0),i([c({tooltip:"\u5355\u70b9\u89e6\u6478\u5bb9\u5fcd\u8bef\u5dee"})],t.prototype,"moveOffset",void 0),i([c({tooltip:"\u6eda\u8f6e\u7f29\u653e\u6bd4\u7387"})],t.prototype,"increaseRate",void 0),t=i([l],t)})(cc.Component);cc._RF.pop()},{"./GameManager":"GameManager"}],ContentAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"68622NlRNJFN4QrXlFCQMe/","ContentAdapter");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,l=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){var e=Math.min(cc.view.getCanvasSize().width/this.node.width,cc.view.getCanvasSize().height/this.node.height),t=this.node.width*e,n=this.node.height*e;this.node.width=this.node.width*(cc.view.getCanvasSize().width/t),this.node.height=this.node.height*(cc.view.getCanvasSize().height/n)},t=i([r],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],ContentWithAnimScene:[function(e,t,n){"use strict";cc._RF.push(t,"34eaarAM3BCtpNOqYjOWRx4","ContentWithAnimScene");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a,r=cc._decorator,l=r.ccclass,c=r.property;(function(e){e[e.ListDemandPanel=0]="ListDemandPanel",e[e.DetailDemandPanel=1]="DetailDemandPanel",e[e.FilterPanel=2]="FilterPanel"})(a=n.AnimNode||(n.AnimNode={}));var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listDemandNode=null,t.fliterNode=null,t.detailDemandNode=null,t.listDemandNodeShowPos=null,t.listDemandNodeHidePos=null,t.fliterNodeShowPos=null,t.fliterNodeHidePos=null,t.detailDemandShowPos=null,t.detailDemandHidePos=null,t}return o(t,e),t.prototype.start=function(){this.listDemandNode.getComponent(cc.Widget).updateAlignment(),this.listDemandNodeShowPos=this.listDemandNode.position.add(cc.v3(726,0,0)),this.listDemandNodeHidePos=this.listDemandNode.position,this.fliterNode.getComponent(cc.Widget).updateAlignment(),this.fliterNodeShowPos=this.fliterNode.position.sub(cc.v3(193,0,0)),this.fliterNodeHidePos=this.fliterNode.position,this.detailDemandNode.getComponent(cc.Widget).updateAlignment(),this.detailDemandShowPos=this.detailDemandNode.position.sub(cc.v3(900,0,0)),this.detailDemandHidePos=this.detailDemandNode.position},t.prototype.handleNodeShowOrHide=function(e,t){var n=null,o=null,i=null;e==a.ListDemandPanel?(n=this.listDemandNode,o=this.listDemandNodeShowPos,i=this.listDemandNodeHidePos):e==a.DetailDemandPanel?(n=this.detailDemandNode,o=this.detailDemandShowPos,i=this.detailDemandHidePos):e==a.FilterPanel&&(n=this.fliterNode,o=this.fliterNodeShowPos,i=this.fliterNodeHidePos),n.stopAllActions(),t?n.runAction(cc.moveTo(.32,i).easing(cc.easeCircleActionOut())):n.runAction(cc.moveTo(.32,o).easing(cc.easeCircleActionOut()))},i([c(cc.Node)],t.prototype,"listDemandNode",void 0),i([c(cc.Node)],t.prototype,"fliterNode",void 0),i([c(cc.Node)],t.prototype,"detailDemandNode",void 0),t=i([l],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],Demand:[function(e,t,n){"use strict";cc._RF.push(t,"095d51YcyNA6YKxgbIuO3Io","Demand"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(e,t,n,o,i,a,r,l,c){this.label=null,this.userId=null,this.detail=null,this.userLike=null,this.demandId=null,this.city=null,this.content=null,this.user_name=null,this.create_time=null,this.repeatNum=-1,this.label=e,this.userId=t,this.detail=n,this.userLike=o,this.demandId=i,this.city=a,this.content=r,this.user_name=l,this.create_time=c}}();n.default=o,cc._RF.pop()},{}],DesignPanelControl:[function(e,t,n){"use strict";cc._RF.push(t,"c3870XY2ZZMi74aM6ycigOR","DesignPanelControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./GameManager"),r=e("./UiControl"),l=cc._decorator,c=l.ccclass,s=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SelectCityScrollView=null,t.Province_City=null,t.SelectedProvince_City=null,t.province=null,t.cityJson=null,t.cityItem=null,t.ProvinceItem=null,t.SelectedProvince="",t.SelectedCity="",t.SelectLabelScrollView=null,t.LabelContent=null,t.LabelSelected=null,t.fieldJson=null,t.typeJson=null,t.skillJson=null,t.LabelItem=null,t.clickCount=0,t.labelSelectedArray=null,t.isFinishSelectLabel=!0,t.totalLabelCount=0,t.TitleBox=null,t.ContentBox=null,t.UiControl=null,t}return o(t,e),t.prototype.onLoad=function(){this.labelSelectedArray=new Array},t.prototype.onEnable=function(){this.LabelSelected.string="",this.SelectedProvince_City.string="",this.isFinishSelectLabel=!0,this.clickCount=0,this.LabelContent.destroyAllChildren(),this.SelectLabelScrollView.active=!1,this.labelSelectedArray=[],this.TitleBox.string="",this.ContentBox.string="",this.TitleBox.textLabel.string="",this.ContentBox.textLabel.string=""},t.prototype.InitProvince=function(){var e=this;this.province.json.forEach(function(t){var n=cc.instantiate(e.ProvinceItem);n.parent=e.Province_City,n.name=t.ProID.toString(),n.getChildByName("Label").getComponent(cc.Label).string=t.name}),this.SelectCityScrollView.active=!0},t.prototype.CityDisplay=function(e){var t=this;this.Province_City.destroyAllChildren(),this.cityJson.json.forEach(function(n){if(n.ProID.toString()==e){var o=cc.instantiate(t.cityItem);o.parent=t.Province_City,o.name=n.name,o.getChildByName("Label").getComponent(cc.Label).string=n.name}})},t.prototype.ClickCityButtonEvent=function(e){var t=this;this.province.json.forEach(function(n){n.ProID.toString()==e.target.name&&(t.SelectedProvince=n.name)}),this.CityDisplay(e.target.name)},t.prototype.CityWriteInEvent=function(e){this.SelectedCity=e.target.name,this.SelectedProvince_City.string=this.SelectedProvince+"-"+this.SelectedCity,this.SelectCityScrollView.active=!1,this.Province_City.destroyAllChildren()},t.prototype.InitLabelData=function(e){var t=this;if(6!=this.labelSelectedArray.length){if(0==this.isFinishSelectLabel&&"AddLabelButton"==e.target.name)return this.SelectLabelScrollView.active=!1,this.clickCount=0,this.isFinishSelectLabel=!0,void this.LabelContent.destroyAllChildren();if(0==this.clickCount)this.isFinishSelectLabel=!1,this.fieldJson.json.field.forEach(function(e){var n=cc.instantiate(t.LabelItem);n.parent=t.LabelContent,n.name=e[0].toString(),n.getChildByName("Label").getComponent(cc.Label).string=e[1]}),this.clickCount++,this.SelectLabelScrollView.active=!0;else if(1==this.clickCount){this.LabelContent.destroyAllChildren(),this.typeJson.json.type.forEach(function(n){if(e.target.name==n[2]){var o=cc.instantiate(t.LabelItem);o.parent=t.LabelContent,o.name=n[0].toString(),o.getChildByName("Label").getComponent(cc.Label).string=n[1]}}),this.clickCount++}else if(2==this.clickCount){this.LabelContent.destroyAllChildren(),this.skillJson.json.skill.forEach(function(n){if(e.target.name==n[2]){var o=cc.instantiate(t.LabelItem);o.parent=t.LabelContent,o.name=n[1],o.getChildByName("Label").getComponent(cc.Label).string=n[1]}}),this.clickCount++}else 3==this.clickCount&&(-1==this.labelSelectedArray.indexOf(e.target.name)?(""!=this.LabelSelected.string?this.LabelSelected.string=this.LabelSelected.string+";"+e.target.name:this.LabelSelected.string=e.target.name,this.labelSelectedArray.push(e.target.name)):cc.log("\u5df2\u7ecf\u5305\u542b\u6b64\u5143\u7d20"),this.isFinishSelectLabel=!0,this.clickCount=0,this.LabelContent.destroyAllChildren(),this.SelectLabelScrollView.active=!1)}else a.default._instance.SetWarningLabel("\u6700\u591a\u53ea\u80fd\u8bbe\u7f6e6\u4e2a\u6807\u7b7e",2)},t.prototype.CloseLabelPanel=function(){this.isFinishSelectLabel=!0,this.clickCount=0,this.LabelContent.destroyAllChildren(),this.SelectLabelScrollView.active=!1},t.prototype.ClearLabel=function(){this.LabelSelected.string="",this.labelSelectedArray=[],cc.log(this.TitleBox.textLabel.node.name)},t.prototype.SendDemand=function(){if(""!=this.LabelSelected.string&&""!=this.TitleBox.string&&""!=this.ContentBox.string&&""!=this.SelectedCity){var e={tags:this.LabelSelected.string,desc:this.TitleBox.string,content:this.ContentBox.string,city:this.SelectedCity};cc.log(e),this.UiControl.getComponent(r.default).CloseDessignPanelEvent(),a.default._instance.PostDemand(e)}else a.default._instance.SetWarningLabel("\u8bf7\u8865\u5168\u9700\u6c42\u4fe1\u606f",2)},i([s(cc.Node)],t.prototype,"SelectCityScrollView",void 0),i([s(cc.Node)],t.prototype,"Province_City",void 0),i([s(cc.Label)],t.prototype,"SelectedProvince_City",void 0),i([s(cc.JsonAsset)],t.prototype,"province",void 0),i([s(cc.JsonAsset)],t.prototype,"cityJson",void 0),i([s(cc.Prefab)],t.prototype,"cityItem",void 0),i([s(cc.Prefab)],t.prototype,"ProvinceItem",void 0),i([s(cc.Node)],t.prototype,"SelectLabelScrollView",void 0),i([s(cc.Node)],t.prototype,"LabelContent",void 0),i([s(cc.Label)],t.prototype,"LabelSelected",void 0),i([s(cc.JsonAsset)],t.prototype,"fieldJson",void 0),i([s(cc.JsonAsset)],t.prototype,"typeJson",void 0),i([s(cc.JsonAsset)],t.prototype,"skillJson",void 0),i([s(cc.Prefab)],t.prototype,"LabelItem",void 0),i([s(cc.EditBox)],t.prototype,"TitleBox",void 0),i([s(cc.EditBox)],t.prototype,"ContentBox",void 0),i([s(cc.Node)],t.prototype,"UiControl",void 0),t=i([c],t)}(cc.Component);n.default=d,cc._RF.pop()},{"./GameManager":"GameManager","./UiControl":"UiControl"}],FiliterControl:[function(e,t,n){"use strict";cc._RF.push(t,"e8f2dAbIlxFOLzwctN7JVFR","FiliterControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./Multi-resolution-Adapter/ContentWithAnimScene"),r=e("./GameManager"),l=e("./UiControl"),c=cc._decorator,s=c.ccclass,d=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.parentNode=null,t.MySendButton=null,t.MyCollectedButton=null,t.MyFindButton=null,t.Canvas=null,t.AnimControl=null,t.isOpen=!1,t}return o(t,e),t.prototype.onLoad=function(){this.AnimControl=this.Canvas.getComponent(a.default)},t.prototype.start=function(){},t.prototype.ChangeValue=function(e,t){this.parentNode.children[0].children[0].getComponent(cc.Label).string=t,this.Canvas.getChildByName("UiControl").getComponent(l.default).DemandListContent.destroyAllChildren(),this.Canvas.getChildByName("UiControl").getComponent(l.default).DemandDetailContent.parent.parent.getComponent(cc.PageView).removeAllPages(),this.Canvas.getChildByName("UiControl").getComponent(l.default).CityName.getComponent(cc.Label).string="\u70b9\u6211\u9009\u62e9\u9700\u6c42",this.Canvas.getChildByName("UiControl").getComponent(l.default).repeatLabel.string="<color=#00ff00>0</c>","\u6211\u53d1\u9001\u7684"==t?r.default._instance.ClearDataAndGetData(2):"\u6211\u6536\u96c6\u7684"==t?r.default._instance.ClearDataAndGetData(1):"\u5bfb\u627e\u9700\u6c42"==t&&r.default._instance.ClearDataAndGetData(0),this.DisAppear()},t.prototype.Appear=function(){this.isOpen,this.AnimControl.handleNodeShowOrHide(a.AnimNode.FilterPanel,this.isOpen),this.isOpen=!this.isOpen},t.prototype.DisAppear=function(){1==this.isOpen&&(this.AnimControl.handleNodeShowOrHide(a.AnimNode.FilterPanel,this.isOpen),this.isOpen=!1)},i([d(cc.Node)],t.prototype,"parentNode",void 0),i([d(cc.Node)],t.prototype,"MySendButton",void 0),i([d(cc.Node)],t.prototype,"MyCollectedButton",void 0),i([d(cc.Node)],t.prototype,"MyFindButton",void 0),i([d(cc.Node)],t.prototype,"Canvas",void 0),t=i([s],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./GameManager":"GameManager","./Multi-resolution-Adapter/ContentWithAnimScene":"ContentWithAnimScene","./UiControl":"UiControl"}],GameManager:[function(e,t,n){"use strict";cc._RF.push(t,"69c669S06lL5JgjJXowmt5s","GameManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a,r,l=e("./WebRequest"),c=e("./JsonParser");(function(e){e[e.RequiredDemands=0]="RequiredDemands",e[e.MyCollectedDemands=1]="MyCollectedDemands",e[e.MySentDemands=2]="MySentDemands"})(a=n.DemandType||(n.DemandType={})),function(e){e[e.Friend=0]="Friend",e[e.Activity=1]="Activity",e[e.Competition=2]="Competition"}(r=n.EnterMode||(n.EnterMode={}));var s=cc._decorator,d=s.ccclass,p=s.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.WebUrl="",t.ActivityId="-1",t.DemandsArray=null,t.NowDemandType=a.RequiredDemands,t.RequiredUrl="",t.CollectedUrl="",t.SendUrl="",t.PostUrl="",t.MyLabelArray=null,t.MatchMode=null,t.SetMaterialNodeArray=null,t.CityMap={},t.isAdjustCamera=!0,t.CityParent=null,t.DemandNumText=null,t.TargetPrefab=null,t.OutLightMaterial_red=null,t.OutLightMaterial_green=null,t.OutLightMaterial_yellow=null,t.NoColorMaterial=null,t.province_simple=null,t.cityJson=null,t.warningLabel=null,t.netLabel=null,t.isWarningLabelEnd=!0,t}var n;return o(t,e),n=t,t.prototype.onLoad=function(){this.ParserContentUrl(),this.getInstance(),this.DemandsArray=new Array,this.MyLabelArray=new Array,this.SetMaterialNodeArray=new Array},t.prototype.start=function(){this.InitUrl(),l.default.get(this.RequiredUrl,this.GetDemands)},t.prototype.ParserContentUrl=function(){var e=window.location.href;if(-1==e.indexOf("?"))console.log("url\u4e2d\u65e0\u53c2\u6570\u53ef\u4ee5\u4f7f\u7528");else{var t=e.split("?");void 0==t[1]&&console.log("\u5339\u914d\u6a21\u5f0f\u83b7\u53d6\u5931\u8d25"),this.GetMatchMode(Number(t[1].split("&")[0].split("=")[1])),this.ActivityId=t[1].split("&")[1].split("=")[1];var n=t[1].split("&")[2].indexOf("=");l.default.userToken=t[1].split("&")[2].slice(n+1),console.log("Mode: "+t[1].split("&")[0].split("=")[1]+" ActivityId: "+t[1].split("&")[1].split("=")[1])}this.netLabel.string="userToken : "+l.default.userToken+"\nMatchMode : "+this.MatchMode+"\nActivityId : "+this.ActivityId},t.prototype.GetToken=function(){var e=new XMLHttpRequest;e.open("GET",window.location.href,!1),e.send(null);var t=e.getAllResponseHeaders().split("\n");cc.log(t);var n={};return t.forEach(function(e){if(""!==e){var t=e.indexOf(":"),o=e.slice(0,t),i=e.slice(t+1).trim();n[o]=i}}),void 0==n.UserToken&&console.log("token \u83b7\u53d6\u5931\u8d25"),n.UserToken},t.prototype.InitUrl=function(){this.MatchMode==r.Activity?(this.RequiredUrl="/users/"+this.ActivityId+"/activity/match/need/list/",this.CollectedUrl="/users/"+this.ActivityId+"/activity/follow/need/list/",this.SendUrl="/users/"+this.ActivityId+"/activity/need/",this.PostUrl="/users/"+this.ActivityId+"/activity/need/"):this.MatchMode==r.Competition?(this.RequiredUrl="/users/"+this.ActivityId+"/competition/match/need/list/",this.CollectedUrl="/users/"+this.ActivityId+"/competition/follow/need/list/",this.SendUrl="/users/"+this.ActivityId+"/competition/need/",this.PostUrl="/users/"+this.ActivityId+"/competition/need/"):this.MatchMode==r.Friend&&(this.RequiredUrl="/users/match/need/list/",this.CollectedUrl="/users/follow/need/list/",this.SendUrl="/users/need/",this.PostUrl="/users/need/")},t.prototype.GetMatchMode=function(e){this.MatchMode=e},t.prototype.getInstance=function(){n._instance=this.getComponent(n)},t.prototype.ClassifyDemand=function(e){var t=this;cc.log(e),e.forEach(function(e){var n=t.GetProvinceByCity(e.city);null==t.CityMap[n]&&(t.CityMap[n]=new Array),t.CityMap[n].push(e)}),cc.log(this.CityMap)},t.prototype.GetProvinceByCity=function(e){var t=this,n="";return""==e&&(e="\u6d77\u53e3"),this.cityJson.json.forEach(function(o){if(-1!=o.name.indexOf(e)){var i=o.ProID;t.province_simple.json.forEach(function(e){e.ProID.toString()==i.toString()&&(n=e.name)})}}),n},t.prototype.AddTarget=function(){for(var e in this.CityMap){var t=e,n=this.CityParent.getChildByName(t);this.SetMaterial(n,this.CityMap[t].length);var o=n.getChildByName("label");o.active=!0;var i=cc.instantiate(this.TargetPrefab);i.parent=o,i.getChildByName("\u5916\u6846").getComponent(cc.Animation).play("TargetAnim_out"),i.getChildByName("\u5185\u6846").getComponent(cc.Animation).play("TargetAnim_in");var a=cc.instantiate(this.DemandNumText);a.parent=o,a.getChildByName("DemandNum").getComponent(cc.Label).string=this.CityMap[t].length}},t.prototype.SetMaterial=function(e,t){t>3&&e.getComponent(cc.Sprite).setMaterial(0,this.OutLightMaterial_red),t>1&&t<=3&&e.getComponent(cc.Sprite).setMaterial(0,this.OutLightMaterial_yellow),1==t&&e.getComponent(cc.Sprite).setMaterial(0,this.OutLightMaterial_green),this.SetMaterialNodeArray.push(e)},t.prototype.ClearDataAndGetData=function(e){var t=this;this.NowDemandType!=e&&(this.DemandsArray=[],this.CityMap={},this.CityParent.children.forEach(function(e){if(0!=e.childrenCount){var t=e.getChildByName("label");0!=t.childrenCount&&(t.destroyAllChildren(),t.active=!1)}}),this.SetMaterialNodeArray.forEach(function(e){e.getComponent(cc.Sprite).setMaterial(0,t.NoColorMaterial)}),this.SetMaterialNodeArray=[],e==a.MyCollectedDemands?l.default.get(this.CollectedUrl,this.GetDemands):e==a.MySentDemands?l.default.get(this.SendUrl,this.GetDemands):e==a.RequiredDemands&&l.default.get(this.RequiredUrl,this.GetDemands),cc.log(this.DemandsArray),this.NowDemandType=e)},t.prototype.RefreshScene=function(){var e=this;this.DemandsArray=[],this.CityMap={},this.CityParent.children.forEach(function(e){if(0!=e.childrenCount){var t=e.getChildByName("label");0!=t.childrenCount&&(t.destroyAllChildren(),t.active=!1)}}),this.SetMaterialNodeArray.forEach(function(t){t.getComponent(cc.Sprite).setMaterial(0,e.NoColorMaterial)}),this.SetMaterialNodeArray=[],this.NowDemandType==a.MyCollectedDemands?l.default.get(this.CollectedUrl,this.GetDemands):this.NowDemandType==a.MySentDemands?l.default.get(this.SendUrl,this.GetDemands):this.NowDemandType==a.RequiredDemands&&l.default.get(this.RequiredUrl,this.GetDemands)},t.prototype.GetDemands=function(e,t){e?(c.default.CovertJsonTocDemand(t),n._instance.ClassifyDemand(n._instance.DemandsArray),n._instance.AddTarget()):(n._instance.SetWarningLabel("\u7f51\u7edc\u5f02\u5e38",2),cc.log("\u8bf7\u6c42\u6570\u636e\u5931\u8d25 :"+t))},t.prototype.PostDemand=function(e){l.default.post(this.PostUrl,e,this.WebRequestState)},t.prototype.CollectDemand=function(e){l.default.post_NoParm("/users/"+e.toString()+"/follow/need/",this.WebRequestState)},t.prototype.DeleteDemand=function(e){l.default.DeleteDemand("/users/"+e.toString()+"/need/deleted/",this.WebRequestState)},t.prototype.UnfollowDemand=function(e){l.default.DeleteDemand("/users/"+e.toString()+"/follow/need/",this.WebRequestState)},t.prototype.FollowUserByDemand=function(e,t){l.default.post("/friend/request/",t,this.WebRequestState)},t.prototype.WebRequestState=function(e,t){cc.log(e),cc.log(t);var o="";o="\u5df2\u7ecf\u5173\u6ce8\u8fc7\u8be5\u9700\u6c42"==t?"\u5df2\u7ecf\u5173\u6ce8\u8fc7\u8be5\u9700\u6c42":"\u5df2\u7ecf\u662f\u597d\u53cb\u4e86"==t?"\u8be5\u7528\u6237\u5df2\u7ecf\u662f\u60a8\u7684\u597d\u53cb":"\u5df2\u7ecf\u5173\u6ce8\u8fc7"==t?"\u5df2\u7ecf\u5173\u6ce8\u8fc7\u8be5\u7528\u6237":""==t?"\u64cd\u4f5c\u6210\u529f":0==t.code?"\u64cd\u4f5c\u6210\u529f":"\u64cd\u4f5c\u5931\u8d25",n._instance.RefreshScene(),n._instance.SetWarningLabel(o,2)},t.prototype.SetWarningLabel=function(e,t){1==n._instance.isWarningLabelEnd&&(n._instance.warningLabel.active=!0,n._instance.warningLabel.getChildByName("label").getComponent(cc.Label).string=e,n._instance.isWarningLabelEnd=!1,n._instance.warningLabel.getChildByName("label").getComponent(cc.Label).scheduleOnce(function(){this.string="",this.node.parent.active=!1,n._instance.isWarningLabelEnd=!0},t))},t._instance=null,i([p(cc.Node)],t.prototype,"CityParent",void 0),i([p(cc.Prefab)],t.prototype,"DemandNumText",void 0),i([p(cc.Prefab)],t.prototype,"TargetPrefab",void 0),i([p(cc.Material)],t.prototype,"OutLightMaterial_red",void 0),i([p(cc.Material)],t.prototype,"OutLightMaterial_green",void 0),i([p(cc.Material)],t.prototype,"OutLightMaterial_yellow",void 0),i([p(cc.Material)],t.prototype,"NoColorMaterial",void 0),i([p(cc.JsonAsset)],t.prototype,"province_simple",void 0),i([p(cc.JsonAsset)],t.prototype,"cityJson",void 0),i([p(cc.Node)],t.prototype,"warningLabel",void 0),i([p(cc.Label)],t.prototype,"netLabel",void 0),t=n=i([d],t)}(cc.Component);n.default=h,cc._RF.pop()},{"./JsonParser":"JsonParser","./WebRequest":"WebRequest"}],GlowInnerEffectScene:[function(e,t,n){"use strict";cc._RF.push(t,"eebe5Fr5bhMO7IsowoLW/Yp","GlowInnerEffectScene");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,l=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._redSlider=null,t._redSliderLabel=null,t._greenSlider=null,t._greenSliderLabel=null,t._blueSlider=null,t._blueSliderLabel=null,t._alphaSlider=null,t._alphaSliderLabel=null,t._glowWidthSlider=null,t._glowWidthSliderLabel=null,t._glowThresholdSlider=null,t._glowThresholdSliderLabel=null,t._examplesParentNode=null,t}return o(t,e),t.prototype.onLoad=function(){this._redSlider=cc.find("Canvas/Content/Sliders/ColorRedSlider/Slider").getComponent(cc.Slider),this._redSliderLabel=cc.find("Canvas/Content/Sliders/ColorRedSlider/ValueLabel").getComponent(cc.Label),this._greenSlider=cc.find("Canvas/Content/Sliders/ColorGreenSlider/Slider").getComponent(cc.Slider),this._greenSliderLabel=cc.find("Canvas/Content/Sliders/ColorGreenSlider/ValueLabel").getComponent(cc.Label),this._blueSlider=cc.find("Canvas/Content/Sliders/ColorBlueSlider/Slider").getComponent(cc.Slider),this._blueSliderLabel=cc.find("Canvas/Content/Sliders/ColorBlueSlider/ValueLabel").getComponent(cc.Label),this._alphaSlider=cc.find("Canvas/Content/Sliders/ColorAlphaSlider/Slider").getComponent(cc.Slider),this._alphaSliderLabel=cc.find("Canvas/Content/Sliders/ColorAlphaSlider/ValueLabel").getComponent(cc.Label),this._glowWidthSlider=cc.find("Canvas/Content/Sliders/GlowWidthSlider/Slider").getComponent(cc.Slider),this._glowWidthSliderLabel=cc.find("Canvas/Content/Sliders/GlowWidthSlider/ValueLabel").getComponent(cc.Label),this._glowThresholdSlider=cc.find("Canvas/Content/Sliders/GlowThresholdSlider/Slider").getComponent(cc.Slider),this._glowThresholdSliderLabel=cc.find("Canvas/Content/Sliders/GlowThresholdSlider/ValueLabel").getComponent(cc.Label),this._examplesParentNode=cc.find("Canvas/Content/Examples")},t.prototype.onEnable=function(){this._redSlider.node.on("slide",this._onSliderChanged,this),this._greenSlider.node.on("slide",this._onSliderChanged,this),this._blueSlider.node.on("slide",this._onSliderChanged,this),this._alphaSlider.node.on("slide",this._onSliderChanged,this),this._glowWidthSlider.node.on("slide",this._onSliderChanged,this),this._glowThresholdSlider.node.on("slide",this._onSliderChanged,this)},t.prototype.onDisable=function(){this._redSlider.node.off("slide",this._onSliderChanged,this),this._greenSlider.node.off("slide",this._onSliderChanged,this),this._blueSlider.node.off("slide",this._onSliderChanged,this),this._alphaSlider.node.off("slide",this._onSliderChanged,this),this._glowWidthSlider.node.off("slide",this._onSliderChanged,this),this._glowThresholdSlider.node.off("slide",this._onSliderChanged,this)},t.prototype.start=function(){this._onSliderChanged()},t.prototype._onSliderChanged=function(){this._redSliderLabel.string=this._redSlider.progress.toFixed(2)+" | "+Math.round(255*this._redSlider.progress),this._greenSliderLabel.string=this._greenSlider.progress.toFixed(2)+" | "+Math.round(255*this._greenSlider.progress),this._blueSliderLabel.string=this._blueSlider.progress.toFixed(2)+" | "+Math.round(255*this._blueSlider.progress),this._alphaSliderLabel.string=this._alphaSlider.progress.toFixed(2)+" | "+Math.round(255*this._alphaSlider.progress);var e=.1*this._glowWidthSlider.progress;this._glowWidthSliderLabel.string=""+e.toFixed(2);var t=this._glowThresholdSlider.progress;this._glowThresholdSliderLabel.string=""+t.toFixed(2)},t.prototype._updateRenderComponentMaterial=function(e){this._examplesParentNode.children.forEach(function(t){t.getComponents(cc.RenderComponent).forEach(function(t){var n=t.getMaterial(0);n.setProperty("glowColorSize",e.glowColorSize),n.setProperty("glowColor",e.glowColor),n.setProperty("glowThreshold",e.glowThreshold),t.setMaterial(0,n)})})},t=i([r],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],JsonParser:[function(e,t,n){"use strict";cc._RF.push(t,"a06b30+MtFOw60ZsCDR+hBH","JsonParser");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./GameManager"),a=e("./Demand"),r=cc._decorator,l=r.ccclass,c=(r.property,function(){function e(){}return e.CovertJsonTocDemand=function(e){if(cc.log(e),cc.log(e.list),void 0==e.list)i.default._instance.warningLabel.getComponent(cc.Label).string="\u7f51\u7edc\u9519\u8bef\uff0c\u65e0\u6cd5\u5f97\u5230\u4fe1\u606f",i.default._instance.warningLabel.getComponent(cc.Label).scheduleOnce(function(){this.string=""},2);else{var t=e.list;e.count;i.default._instance.NowDemandType==i.DemandType.MySentDemands?t.forEach(function(e){i.default._instance.DemandsArray.push(new a.default(e.tags,e.user_id,e.desc,e.count_likers,e.id,e.city,e.content,e.user_name,e.create_time))}):t.forEach(function(e){cc.log(e);var t=new a.default(e.need.tags,e.need.user_id,e.need.desc,e.need.count_likers,e.need.id,e.need.city,e.need.content,e.need.user_name,e.need.create_time);t.repeatNum=e.nums,i.default._instance.DemandsArray.push(t)})}},e=o([l],e)}());n.default=c,cc._RF.pop()},{"./Demand":"Demand","./GameManager":"GameManager"}],MapControl:[function(e,t,n){"use strict";cc._RF.push(t,"79777kgUFNH7IobLwg8lArh","MapControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},a=cc._decorator,r=a.ccclass,l=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.map=null,t.mapContainer=null,t.scaleTime=null,t.maxScale=3,t.minScale=1,t.moveOffset=2,t.increaseRate=1e4,t.operLock=!1,t.isMoving=!1,t.mapTouchList=[],t.singleTouchCb=null,t}return o(t,e),t.prototype.start=function(){this.map||(this.map=this.node),this.mapContainer||(this.mapContainer=this.node.parent),this.addEvent()},t.prototype.addEvent=function(){var e=this;this.map.on(cc.Node.EventType.TOUCH_MOVE,function(t){if(!e.operLock)if(t.getTouches().filter(function(t){var n=cc.v2(t.getStartLocation().x,t.getStartLocation().y),o=e.mapContainer.convertToWorldSpaceAR(cc.Vec2.ZERO);return cc.rect(o.x-e.mapContainer.width/2,o.y-e.mapContainer.height/2,e.mapContainer.width,e.mapContainer.height).contains(n)}).forEach(function(t){0===e.mapTouchList.filter(function(e){return e.id===t.getID()}).length&&e.mapTouchList.push({id:t.getID(),touch:t})}),e.mapTouchList.length>=2)e.isMoving=!0,e.dealTouchData(e.mapTouchList,e.map);else if(1===e.mapTouchList.length){var n=e.mapTouchList[0].touch,o=cc.v2(n.getStartLocation()),i=cc.v2(n.getLocation());if((Math.abs(i.x-o.x)<=e.moveOffset||Math.abs(i.y-o.y)<=e.moveOffset)&&!e.isMoving)return;var a=cc.v2(n.getDelta());e.isMoving=!0,e.dealMove(a,e.map,e.mapContainer)}},this),this.map.on(cc.Node.EventType.TOUCH_END,function(t){if(e.operLock)return cc.log("operate is lock");if(e.mapTouchList.length<2){if(!e.isMoving){var n=cc.v2(t.getLocation()),o=e.map.convertToNodeSpaceAR(n);e.dealSelect(o)}e.isMoving=!1}e.removeTouchFromContent(t,e.mapTouchList)},this),this.map.on(cc.Node.EventType.TOUCH_CANCEL,function(t){e.operLock||(e.mapTouchList.length<2&&(e.isMoving=!1),e.removeTouchFromContent(t,e.mapTouchList))},this),this.map.on(cc.Node.EventType.MOUSE_WHEEL,function(t){if(!e.operLock){var n=t.getLocation(),o=cc.v2(n.x,n.y),i=t.getScrollY(),a=e.map.scale+i/e.increaseRate,r=e.map,l=r.convertToNodeSpaceAR(o);e.smoothOperate(r,l,a)}},this)},t.prototype.removeTouchFromContent=function(e,t){for(var n=e.getTouches().map(function(e){return e.getID()}),o=t.length-1;o>=0;--o)n.indexOf(t[o].id)>-1&&t.splice(o,1)},t.prototype.smoothOperate=function(e,t,n){var o=n-e.scaleX,i=t.scale(cc.v2(o,o)),a=e.getPosition().sub(cc.v2(i.x,i.y));this.isOutRangeScale(n)||(n=(100*n|0)/100,e.scale=n,this.dealScalePos(a,e)),n=this.dealScaleRange(n),this.scaleTime.string=(100*n|0)+"%"},t.prototype.dealTouchData=function(e,t){var n=e[0].touch,o=e[1].touch,i=cc.v2(n.getDelta()),a=cc.v2(o.getDelta()),r=t.convertToNodeSpaceAR(cc.v2(n.getLocation())),l=t.convertToNodeSpaceAR(cc.v2(o.getLocation())),c=r.sub(l),s=i.sub(a),d=1;d=Math.abs(c.x)>Math.abs(c.y)?(c.x+s.x)/c.x*t.scaleX:(c.y+s.y)/c.y*t.scaleY;var p=l.add(cc.v2(c.x/2,c.y/2));this.smoothOperate(t,p,d)},t.prototype.isOutRangeScale=function(e){return e>this.maxScale||e<this.minScale},t.prototype.dealScaleRange=function(e){return e>this.maxScale?this.maxScale:e<this.minScale?this.minScale:e},t.prototype.dealScalePos=function(e,t){var n=this.mapContainer,o=n.convertToWorldSpaceAR(e),i=n.convertToNodeSpaceAR(o),a=this.calculateEdge(t,n,i);a.lBorderDelta>0&&(e.x-=a.lBorderDelta),a.rBorderDelta>0&&(e.x+=a.rBorderDelta),a.uBorderDelta>0&&(e.y+=a.uBorderDelta),a.dBorderDelta>0&&(e.y-=a.dBorderDelta),1===t.scale&&(e=cc.Vec2.ZERO),t.position=e},t.prototype.dealMove=function(e,t,n){var o=t.convertToWorldSpaceAR(cc.Vec2.ZERO),i=n.convertToNodeSpaceAR(o);i.x+=e.x,i.y+=e.y;var a=this.calculateEdge(t,n,i);a.lBorderDelta<=0&&a.rBorderDelta<=0&&(t.x+=e.x),a.uBorderDelta<=0&&a.dBorderDelta<=0&&(t.y+=e.y)},t.prototype.setSinglTouchCb=function(e){this.singleTouchCb=e},t.prototype.dealSelect=function(e){this.singleTouchCb&&this.singleTouchCb(e)},t.prototype.calculateEdge=function(e,t,n){var o=e.width*e.scaleX,i=e.height*e.scaleY;return{lBorderDelta:n.x-o/2+t.width/2,rBorderDelta:t.width/2-(o/2+n.x),uBorderDelta:t.height/2-(i/2+n.y),dBorderDelta:n.y-i/2+t.height/2}},i([l({type:cc.Node,tooltip:"\u76ee\u6807\u8282\u70b9\uff0c\u5f53mapContainer\u4e3anull\u65f6\uff0c\u9700\u8981\u5c06\u8be5\u7ec4\u4ef6\u6302\u5728\u76ee\u6807\u8282\u70b9\uff0c\u8be5\u8282\u70b9\u9ed8\u8ba4\u4e3a\u6302\u8f7d\u8282\u70b9"})],t.prototype,"map",void 0),i([l({type:cc.Node,tooltip:"\u5f53\u8be5\u8282\u70b9\u4e3a\u7a7a\u65f6\uff0c\u9700\u8981\u5c06\u6539\u7ec4\u4ef6\u6302\u5728map\u8282\u70b9\u4e0a\uff0c\u8be5\u8282\u70b9\u9ed8\u8ba4\u4e3a\u6302\u8f7d\u8282\u70b9\u7684\u7236\u8282\u70b9"})],t.prototype,"mapContainer",void 0),i([l(cc.Label)],t.prototype,"scaleTime",void 0),i([l({tooltip:"\u56fe\u7247\u7f29\u653e\u6700\u5927scale"})],t.prototype,"maxScale",void 0),i([l({tooltip:"\u56fe\u7247\u7f29\u653e\u6700\u5c0fscale"})],t.prototype,"minScale",void 0),i([l({tooltip:"\u5355\u70b9\u89e6\u6478\u5bb9\u5fcd\u8bef\u5dee"})],t.prototype,"moveOffset",void 0),i([l({tooltip:"\u6eda\u8f6e\u7f29\u653e\u6bd4\u7387"})],t.prototype,"increaseRate",void 0),t=i([r],t)}(cc.Component);t.exports=c,cc._RF.pop()},{}],UiControl:[function(e,t,n){"use strict";cc._RF.push(t,"8981fT7NExFeqLfeF11jNgW","UiControl");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./GameManager"),r=e("./Multi-resolution-Adapter/ContentWithAnimScene"),l=e("./FiliterControl"),c=cc._decorator,s=c.ccclass,d=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Darker=null,t.DemandListContent=null,t.CollectButtonLabel=null,t.FollowButton=null,t.ListItem=null,t.ListItemState=!1,t.ProvinceInList=null,t.ProvinceInListItem=null,t.DemandDetailContent=null,t.DetailItem=null,t.repeatLabel=null,t.DetailListState=!1,t.CityName=null,t.DesignPanel=null,t.FiliterPanel=null,t.Canvas=null,t.AnimControl=null,t.isNeedUpdateData=!1,t.isInit=!1,t.isOpenDesignPanel=!1,t}return o(t,e),t.prototype.onLoad=function(){this.AnimControl=this.Canvas.getComponent(r.default)},t.prototype.Init=function(e,t){1!=this.ListItemState&&1!=this.DetailListState&&1!=this.isOpenDesignPanel&&(null!=a.default._instance.CityMap[t]?(this.LoadListAndDetailData(t),this.ItemListButtonEvent(),this.isInit=!0):(this.DemandListContent.destroyAllChildren(),this.DemandDetailContent.parent.parent.getComponent(cc.PageView).removeAllPages(),this.CityName.getComponent(cc.Label).string=t+"\u6682\u65e0\u9700\u6c42",cc.log("\u6b64\u7701\u4efd\u65e0\u6570\u636e"),this.ItemListButtonEvent()))},t.prototype.LoadListAndDetailData=function(e){var t=this,n=0;this.DemandListContent.destroyAllChildren(),this.DemandDetailContent.parent.parent.getComponent(cc.PageView).removeAllPages(),this.CityName.getComponent(cc.Label).string=e,a.default._instance.CityMap[e].forEach(function(e){var o=cc.instantiate(t.ListItem);o.getChildByName("title").getChildByName("New Label").getComponent(cc.Label).string=e.detail,o.getChildByName("lable").getChildByName("New Label").getComponent(cc.Label).string=e.label,o.getChildByName("city").getChildByName("New Label").getComponent(cc.Label).string=e.city,o.getChildByName("time").getChildByName("New Label").getComponent(cc.Label).string=e.create_time,o.name=n.toString(),t.DemandListContent.addChild(o);var i=cc.instantiate(t.DetailItem);i.getChildByName("title").getChildByName("New Label").getComponent(cc.Label).string=e.detail,i.getChildByName("content").getChildByName("New Label").getComponent(cc.Label).string=e.content,i.getChildByName("UserNames").getChildByName("name").getComponent(cc.Label).string=e.user_name,i.name=n.toString(),t.DemandDetailContent.parent.parent.getComponent(cc.PageView).addPage(i),n++})},t.prototype.SelectProvinceInListEvent=function(){if(this.ProvinceInList.destroyAllChildren(),cc.log(a.default._instance.CityMap),0==this.IsDicEmpty(a.default._instance.CityMap)){for(var e in a.default._instance.CityMap){var t=cc.instantiate(this.ProvinceInListItem);t.name=e,t.getChildByName("name").getComponent(cc.Label).string=e,t.parent=this.ProvinceInList}this.ProvinceInList.parent.parent.active=!0}else a.default._instance.SetWarningLabel("\u76ee\u524d\u6ca1\u6709\u4efb\u4f55\u9700\u6c42\u53d1\u5e03",2)},t.prototype.IsDicEmpty=function(e){for(var t in e)return!1;return!0},t.prototype.ChangeProvinceEvent=function(e,t){this.LoadListAndDetailData(t),this.isInit=!0,this.ProvinceInList.parent.parent.active=!1},t.prototype.CollectSelectedDemand=function(){if(this.isInit){var e=a.default._instance.CityMap[this.CityName.getComponent(cc.Label).string][this.DemandDetailContent.parent.parent.getComponent(cc.PageView).getCurrentPageIndex()];if(a.default._instance.NowDemandType==a.DemandType.RequiredDemands)a.default._instance.CollectDemand(e.demandId);else if(a.default._instance.NowDemandType==a.DemandType.MySentDemands){a.default._instance.DeleteDemand(e.demandId),(t=this.DemandDetailContent.parent.parent.getComponent(cc.PageView)).removePageAtIndex(t.getCurrentPageIndex()),this.DemandListContent.children[t.getCurrentPageIndex()].destroy(),a.default._instance.SetWarningLabel("\u5df2\u5220\u9664\u8be5\u9700\u6c42",2),this.isNeedUpdateData=!0}else if(a.default._instance.NowDemandType==a.DemandType.MyCollectedDemands){var t;(t=this.DemandDetailContent.parent.parent.getComponent(cc.PageView)).removePageAtIndex(t.getCurrentPageIndex()),this.DemandListContent.children[t.getCurrentPageIndex()].destroy(),a.default._instance.UnfollowDemand(e.demandId),this.isNeedUpdateData=!0}0==this.DemandDetailContent.children.length&&(this.isNeedUpdateData=!1,this.DemandListContent.destroyAllChildren(),this.DetileListButtonEvent())}else a.default._instance.SetWarningLabel("\u65e0\u9009\u4e2d\u9700\u6c42",2)},t.prototype.FollowUser=function(){if(this.isInit){var e=a.default._instance.CityMap[this.CityName.getComponent(cc.Label).string][this.DemandDetailContent.parent.parent.getComponent(cc.PageView).getCurrentPageIndex()],t={user_id:e.userId,description:"\u60a8\u597d\uff0c\u6211\u5bf9\u60a8\u53d1\u5e03\u7684\u9700\u6c42\uff1a\u201c"+e.content+"\u201d\u5f88\u611f\u5174\u8da3\uff0c\u5e0c\u671b\u6dfb\u52a0\u597d\u53cb\u4e0e\u60a8\u5408\u4f5c\u3002"};cc.log(t.description),a.default._instance.FollowUserByDemand(e.userId,t)}else a.default._instance.SetWarningLabel("\u65e0\u9009\u4e2d\u9700\u6c42",2)},t.prototype.TurnToPage=function(e,t){cc.log(e.target.name);var n=t;this.DemandDetailContent.parent.parent.getComponent(cc.PageView).scrollToPage(Number(n),1),this.WriteReapeatNum(Number(e.target.name)),this.ItemListButtonEvent(),this.DetileListButtonEvent()},t.prototype.WriteReapeatNum=function(e){var t=a.default._instance.CityMap[this.CityName.getComponent(cc.Label).string][e].repeatNum,n=(t>1?"<color=#FA0000>":"<color=#00ff00>")+t.toString()+"</c>";this.repeatLabel.string=n},t.prototype.ItemListButtonEvent=function(){0==this.ListItemState?(1==this.isNeedUpdateData&&(this.LoadListAndDetailData(this.CityName.getComponent(cc.Label).string),this.isNeedUpdateData=!1),this.DemandListContent.parent.parent.parent.getChildByName("LandR").children[0].scaleX*=-1,this.AnimControl.handleNodeShowOrHide(r.AnimNode.ListDemandPanel,this.ListItemState),this.ListItemState=!0):(this.DemandListContent.parent.parent.parent.getChildByName("LandR").children[0].scaleX*=-1,this.AnimControl.handleNodeShowOrHide(r.AnimNode.ListDemandPanel,this.ListItemState),this.ListItemState=!1,this.ProvinceInList.parent.parent.active=!1),this.CheckIsHaveActivePanel()},t.prototype.DetileListButtonEvent=function(){0==this.DetailListState?(a.default._instance.NowDemandType==a.DemandType.MySentDemands?(this.repeatLabel.node.parent.active=!1,this.CollectButtonLabel.string="\u5220\u9664",this.FollowButton.active=!1):a.default._instance.NowDemandType==a.DemandType.MyCollectedDemands?(this.repeatLabel.node.parent.active=!0,this.CollectButtonLabel.string="\u53d6\u6d88\u6536\u96c6",this.FollowButton.active=!0):a.default._instance.NowDemandType==a.DemandType.RequiredDemands&&(this.repeatLabel.node.parent.active=!0,this.CollectButtonLabel.string="\u6536\u96c6",this.FollowButton.active=!0),this.DemandDetailContent.parent.parent.getChildByName("LandR").children[0].scaleX*=-1,this.AnimControl.handleNodeShowOrHide(r.AnimNode.DetailDemandPanel,this.DetailListState),this.DetailListState=!0,1==this.ListItemState&&this.ItemListButtonEvent(),this.FiliterPanel.getComponent(l.default).DisAppear(),this.FiliterPanel.getChildByName("Button").getComponent(cc.Button).interactable=!1):(this.DemandDetailContent.parent.parent.getChildByName("LandR").children[0].scaleX*=-1,this.AnimControl.handleNodeShowOrHide(r.AnimNode.DetailDemandPanel,this.DetailListState),this.ItemListButtonEvent(),this.DetailListState=!1,this.FiliterPanel.getChildByName("Button").getComponent(cc.Button).interactable=!0),this.CheckIsHaveActivePanel()},t.prototype.ClosePanelEvent=function(){1==this.DetailListState&&(this.DemandDetailContent.parent.parent.getChildByName("LandR").children[0].scaleX*=-1,this.AnimControl.handleNodeShowOrHide(r.AnimNode.DetailDemandPanel,this.DetailListState),this.DetailListState=!1),1==this.ListItemState&&(this.DemandListContent.parent.parent.parent.getChildByName("LandR").children[0].scaleX*=-1,this.AnimControl.handleNodeShowOrHide(r.AnimNode.ListDemandPanel,this.ListItemState),this.ListItemState=!1,this.ProvinceInList.parent.parent.active=!1),this.CheckIsHaveActivePanel()},t.prototype.OpenDemandListEvent=function(){1==this.ListItemState||1==this.DetailListState?this.ClosePanelEvent():0==this.ListItemState&&0==this.isOpenDesignPanel&&(this.DemandListContent.parent.parent.parent.getChildByName("LandR").children[0].scaleX*=-1,this.AnimControl.handleNodeShowOrHide(r.AnimNode.ListDemandPanel,this.ListItemState),this.ListItemState=!0),this.CheckIsHaveActivePanel()},t.prototype.OpenDesignPanelEvent=function(){this.DesignPanel.active=!0,this.isOpenDesignPanel=!0,this.Darker.active=!0,this.DemandDetailContent.parent.parent.getChildByName("LandR").getComponent(cc.Button).interactable=!1,this.DemandListContent.parent.parent.parent.getChildByName("LandR").getComponent(cc.Button).interactable=!1,this.FiliterPanel.getComponent(l.default).DisAppear(),this.FiliterPanel.getChildByName("Button").getComponent(cc.Button).interactable=!1,this.ClosePanelEvent()},t.prototype.CloseDessignPanelEvent=function(){this.isOpenDesignPanel=!1,this.DesignPanel.active=!1,this.Darker.active=!1,this.DemandDetailContent.parent.parent.getChildByName("LandR").getComponent(cc.Button).interactable=!0,this.DemandListContent.parent.parent.parent.getChildByName("LandR").getComponent(cc.Button).interactable=!0,this.FiliterPanel.getChildByName("Button").getComponent(cc.Button).interactable=!0,a.default._instance.isAdjustCamera=!0},t.prototype.CheckIsHaveActivePanel=function(){1==this.ListItemState||1==this.DetailListState||1==this.isOpenDesignPanel?(this.Darker.active=!0,this.FiliterPanel.getComponent(l.default).DisAppear(),this.FiliterPanel.getChildByName("Button").getComponent(cc.Button).interactable=!1,a.default._instance.isAdjustCamera=!1):(a.default._instance.isAdjustCamera=!0,this.Darker.active=!1,this.FiliterPanel.getChildByName("Button").getComponent(cc.Button).interactable=!0)},t.prototype.start=function(){},i([d(cc.Node)],t.prototype,"Darker",void 0),i([d(cc.Node)],t.prototype,"DemandListContent",void 0),i([d(cc.Label)],t.prototype,"CollectButtonLabel",void 0),i([d(cc.Node)],t.prototype,"FollowButton",void 0),i([d(cc.Prefab)],t.prototype,"ListItem",void 0),i([d(cc.Node)],t.prototype,"ProvinceInList",void 0),i([d(cc.Prefab)],t.prototype,"ProvinceInListItem",void 0),i([d(cc.Node)],t.prototype,"DemandDetailContent",void 0),i([d(cc.Prefab)],t.prototype,"DetailItem",void 0),i([d(cc.RichText)],t.prototype,"repeatLabel",void 0),i([d(cc.Node)],t.prototype,"CityName",void 0),i([d(cc.Node)],t.prototype,"DesignPanel",void 0),i([d(cc.Node)],t.prototype,"FiliterPanel",void 0),i([d(cc.Node)],t.prototype,"Canvas",void 0),t=i([s],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./FiliterControl":"FiliterControl","./GameManager":"GameManager","./Multi-resolution-Adapter/ContentWithAnimScene":"ContentWithAnimScene"}],WebRequest:[function(e,t,n){"use strict";cc._RF.push(t,"827d4rdEvdFZ4cPIDaHLT0i","WebRequest"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.get=function(t,n){t=e.baseUrl+t,cc.log(t);var o=cc.loader.getXMLHttpRequest();o.open("GET",t,!0),o.setRequestHeader("X-User-Token",this.userToken),o.onreadystatechange=function(){if(4===o.readyState){var e=o.responseText;if(o.status>=200&&o.status<300){o.statusText;n(!0,JSON.parse(e))}else n(!1,e)}},o.send()},e.post=function(t,n,o){void 0===n&&(n={}),t=e.baseUrl+t;var i=cc.loader.getXMLHttpRequest(),a="";Object.keys(n).forEach(function(e){a+=e+"="+encodeURIComponent(n[e])+"&"}),""!==a&&(a=a.substr(0,a.lastIndexOf("&"))),cc.log(a),i.open("POST",t,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.setRequestHeader("X-User-Token",this.userToken),i.onreadystatechange=function(){if(4===i.readyState){var e=i.responseText;if(i.status>=200&&i.status<300){i.statusText;o(!0,JSON.parse(e))}else o(!1,e)}},i.send(a)},e.post_NoParm=function(t,n){t=e.baseUrl+t,cc.log(t);var o=cc.loader.getXMLHttpRequest();o.open("POST",t,!0),o.setRequestHeader("X-User-Token",this.userToken),o.onreadystatechange=function(){if(4===o.readyState){var e=o.responseText;if(o.status>=200&&o.status<300){o.statusText;n(!0,e)}else n(!1,e)}},o.send()},e.DeleteDemand=function(t,n){t=e.baseUrl+t,cc.log(t);var o=cc.loader.getXMLHttpRequest();o.open("DELETE",t,!0),o.setRequestHeader("X-User-Token",this.userToken),o.onreadystatechange=function(){if(4===o.readyState){var e=o.responseText;if(o.status>=200&&o.status<300){o.statusText;n(!0,e)}else n(!1,e)}},o.send()},e.baseUrl="http://pre.api.app.chuangyh.com",e.userToken="",e}();n.default=o,cc._RF.pop()},{}],_ContentAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"91e71Q/OJhARZta3i4MAxRN","_ContentAdapter");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,l=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){var e=Math.min(cc.view.getCanvasSize().width/this.node.width,cc.view.getCanvasSize().height/this.node.height),t=this.node.width*e,n=this.node.height*e;this.node.width=this.node.width*(cc.view.getCanvasSize().width/t),this.node.height=this.node.height*(cc.view.getCanvasSize().height/n)},t=i([r],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(e,t,n){"use strict";cc._RF.push(t,"b3f5c4JCYNAmrDklv+0dOf/","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}]},{},["ButtonOnload","CameraControl ","Demand","DesignPanelControl","FiliterControl","GameManager","JsonParser","MapControl","BackgroundAdapter","ContentWithAnimScene","_ContentAdapter","UiControl","WebRequest","GlowInnerEffectScene","ContentAdapter","use_v2.0.x_cc.Toggle_event"]);